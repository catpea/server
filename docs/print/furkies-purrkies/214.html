<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Cat Pea University Inspirational Poetry">
<meta name="author" content="Cat Pea">
<meta name="generator" content="https://github.com/catpea/server">
<title>Cat Pea University</title>
<link href="../../css/bootstrap.min.css" rel="stylesheet">
<link href="../../css/bootstrap-icons.css" rel="stylesheet">
<link href="../../css/custom.css" rel="stylesheet">

    <style>
    body {
      background: white;
    }
    </style>
  </head>
  <body>


  <main class="container">

    <div class="row">
      <div class="col">
       <div class="card border-0 my-5">


         <div class="card-body">
           <h1 class="card-title">#214: Cosmopolis 1.0</h1>
           <p class="card-text small">Written Wednesday, September 30th 2020, 9:49:42 pm</p>
         </div>

         
         <img src="../../image/md-poetry-0214-illustration.jpg" class="card-img-bottom" alt="Cosmopolis 1.0">
         

       </div>
      </div>
    </div>


    <div class="row">
     <div class="col-12">
       <div class="card border-0 mb-5">
         <div class="card-body">
           <div class="card-text pt-5 fs-3 text-center"><div class="section">
  <p>It felt so healthy to sit down to the first version,</p>
  <p>the promise of creating a program that will change the world felt amazing.</p>
</div>
<div class="section">
  <p>They settled on trusty bare bones <a href="https://expressjs.com/">express</a>,</p>
  <p>and the first routes they put in were view and edit.</p>
</div>
<div class="section">
  <p>Carl Sagan once said, that if you wish to make an apple pie from scratch,</p>
  <p>you must first invent the universe.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <a href="https://github.com/WardCunningham">Ward Cunningham</a> the inventor of WikiWiki,
  <p>has absolutely solved the problem of starting in the beginning.</p>
</div>
<div class="section">
  <p>With just a few lines of code he opened the gateway to content creation,</p>
  <p>in the most simplest way possible.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>They already knew how to solve the problem of two users editing the same file at the same time,</p>
  <p>the inspiration for that came from CouchDB.</p>
</div>
<div class="section">
  <p>In short, a unit of disk information in the first Cosmopolis was not a file,</p>
  <p>it was a directory, with randomly named files prefixed with a version number.</p>
</div>
<div class="section">
  <p>For example, detroit/15-aabbd.txt, detroit/15-xyxx.txt</p>
</div>
<div class="section">
  <p>The brilliant thing about this is that when two people save version 15 at the same time,</p>
  <p>the random name of the file decides which version 15 is used, via a simple alphanumeric sort.</p>
</div>
<div class="section">
  <p>If there are 32 people editing the same file, and they all click save at the same time,</p>
  <p>and if some of the version 15 files arrive a second late because they have to travel across a slow network,</p>
  <p>by relying on blindly picking the topmost entry after an alphanumeric sort, once they get all the data,</p>
  <p>every participating server in the world will agree on the same version 15.</p>
</div>
<div class="section">
  <p>It should be noted that at this point the file will be flagged as having many conflicts,</p>
  <p>and users will be called to take a look at the different version and manually pick and choose the good parts,</p>
  <p>this time everyone will be careful to just wait until the latest version is compiled.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>So, they had a collaborative editing platform in less than 100 lines of code,</p>
  <p>basically a blank Wikipedia.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>So now came the big question,</p>
  <p>which part of the universe do we create first to get that apple pie going?</p>
</div>
<div class="section">
  <p>They briefly considered to name the city Uruk,</p>
  <p>after the oldest city in the world, but settled on Night City instead.</p>
</div>
<div class="section">
  <p>And so it was, just like Wikipedia once had its first article,</p>
  <p>cosmopolis now held the first city: http://localhost:3000/view/night_city</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>This was both exiting and terrifying, this program was meant to bring peace to the world.</p>
  <p>and they only had a blank page for an imaginary city.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>Adding user support had to come in next,</p>
  <p>just like every city had a page, so did every user.</p>
</div>
<div class="section">
  <p>Thus, Night City would receive its first two citizens,</p>
  <a href="https://en.wikipedia.org/wiki/Alice_and_Bob">Alice and Bob</a>.
</div>
<div class="section">
  <p>Out in the server room the admin was already preparing for corruption simulations,</p>
  <p>and she named the malicious politician Mallory.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>Alice and Bob represented computer programs,</p>
  <p>they were chatbots.</p>
</div>
<div class="section">
  <p>However, the bots are separate programs that use Cosmopolis like a user would,</p>
  <p>they would log in, check messages, scan for phrases they recognize and then perform some task within Cosmopolis.</p>
</div>
<div class="section">
  <p>The bots weren&apos;t really inspired by anything other than old <a href="https://en.wikipedia.org/wiki/MUD">MUD</a> programs but there was a beautiful line of code,</p>
  <p>that one of the leads always looked at, <a href="https://github.com/hubotio/hubot-rules/blob/master/src/rules.js#L26">line 26</a> in a sample script of github&apos;s hubot.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>The bots were special,</p>
  <p>they greatly simplified simulations and reasoning about this virtual test city.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>As a whole they already created a very simple,</p>
  <p>but living simulation.</p>
</div>
<div class="section">
  <p>For example one internal bot would be responsible for generating weather in Night City,</p>
  <p>the bot actually got its information from Detroit&apos;s own weather service.</p>
</div>
<div class="section">
  <p>And our virtual Alice had a setting in her profile,</p>
  <p>that would alert her when it was raining, she would then equip an umbrella before leaving for work.</p>
</div>
<div class="section">
  <p>Bots gave Cosmopolis that early life,</p>
  <p>that made working on the system fun.</p>
</div>
<div class="section">
  <p>But by far the most special thing about bots,</p>
  <p>was that they could be replaced by a real human,</p>
  <p>by a person that would turn off the bot and log in into their account.</p>
</div>
<div class="section">
  <p>In the next release of the program,</p>
  <p>the girls focused on enhancing this feature.</p>
</div>
<div class="section">
  <p>A bot could be instructed to ship groceries from Amazon,</p>
  <p>but when a real person took over for an account,</p>
  <p>they could go to a local store and buy and deliver the groceries for a small payment.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>Even in the early tests, it was becoming more an more obvious,</p>
  <p>that a powerful automated framework that could help people make money could be built.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>As with every program the girls were worried about its adoption,</p>
  <p>but it was universally agreed that people would join to make money,</p>
  <p>and in the end large cities would go online within weeks,</p>
  <p>because it helped people put food on the table by trading small services.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>Cosmopolis 2.0 was what got the attention of United Nations,</p>
  <p>but that is a story for another time.</p>
</div>
<div class="section">
  <hr>
</div>
<div class="section">
  <p>Personal Note,</p>
</div>
<div class="section">
  <p>Becoming a programmer is not that hard, and when you have a dream like our story of Cosmopolis here,</p>
  <p>it becomes a fun hobby that you just aimlessly poke at when there is some time in a day.</p>
</div>
<div class="section">
  <p>There is a tradition of creating Programming Cook-books, they are books tailored for a specific language,</p>
  <p>that contain short recipes, and it is really fun to flip through it, and see what this programming thing is about.</p>
</div>
<div class="section">
  <p>I recommend learning JavaScript, which is currently called ES2020, to actually execute a program you will need an interpreter.</p>
</div>
<div class="section">
  <p>Your browser has one built in, as JavaScript is the language of the web, look up how to open the web console in your browser of choice.</p>
</div>
<div class="section">
  <p>
    The industry standard for server-side JavaScript applications like our Imaginary Cosmopolis is <a href="https://nodejs.org/en/">Node.js</a>,
    if interested you can <a href="https://www.youtube.com/results?search_query=nodejs%20tutorial">search for video tutorials</a> to help you get started.
  </p>
</div></div>
         </div>
       </div>
     </div>

    </div>




  </main><!-- /.container -->


  <script src="../../js/bootstrap.bundle.min.js"></script>


  </body>
</html>
